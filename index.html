<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TONO APROBADO | Colorimetr√≠a Profesional</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Syne:wght@700;800&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- VARIABLES & RESET --- */
        :root {
            --bg-landing: #0f0f0f;
            --text-landing: #f5f5f5;
            --bg-grid: #ffffff;
            --text-grid: #111111;
            --accent: #0047FF;
            --border-light: #e5e5e5;
            --border-dark: #333;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Inter', sans-serif;
            transition: background-color 0.4s ease;
            background-color: var(--bg-landing);
        }

        body.mode-landing { background-color: var(--bg-landing); overflow-x: hidden; }
        body.mode-grid { background-color: var(--bg-grid); color: var(--text-grid); }

        /* --- VISTA 1: LANDING CENTRADA --- */
        #landing-view {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 60px 20px;
            animation: fadeIn 0.8s ease-out;
        }

        header.landing-header { text-align: center; margin-bottom: 60px; }

        h1.brand-title {
            font-family: 'Syne', sans-serif;
            font-size: clamp(3.5rem, 15vw, 7rem);
            color: var(--text-landing);
            text-transform: uppercase;
            line-height: 0.85;
            margin: 0;
            letter-spacing: -3px;
        }

        .brand-subtitle {
            font-family: 'Syne', sans-serif;
            font-size: clamp(0.7rem, 3vw, 1.1rem);
            letter-spacing: 8px;
            color: #666;
            margin-top: 15px;
            text-transform: uppercase;
        }

        .seasons-wrapper {
            width: 100%;
            max-width: 800px;
            display: flex;
            flex-direction: column;
            gap: 60px;
        }

        .season-group {
            width: 100%;
            text-align: center;
        }

        .season-name {
            font-family: 'Syne', sans-serif;
            color: var(--text-landing);
            font-size: 1.8rem;
            margin-bottom: 25px;
            text-transform: uppercase;
            letter-spacing: 4px;
            position: relative;
            display: inline-block;
        }
        .season-name::after {
            content: ""; position: absolute; bottom: -10px; left: 20%; right: 20%;
            height: 1px; background: var(--accent);
        }

        .buttons-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 10px;
        }

        .menu-btn {
            background: rgba(255,255,255,0.03);
            border: 1px solid var(--border-dark);
            color: var(--text-landing);
            padding: 20px 30px;
            min-width: 160px;
            font-family: 'Syne', sans-serif;
            font-size: 0.9rem;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
            border-radius: 2px;
        }

        .menu-btn:hover {
            background: var(--text-landing);
            color: var(--bg-landing);
            border-color: var(--text-landing);
            transform: translateY(-5px);
        }

        /* --- VISTA 2: GRID DETALLE (CORREGIDO) --- */
        #grid-view {
            display: none;
            max-width: 1100px;
            margin: 0 auto;
            padding: 40px 20px 100px;
            animation: slideUp 0.5s ease-out;
        }

        .grid-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 50px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-light);
        }

        .back-btn {
            background: none; border: 1px solid #000; color: #000; padding: 10px 25px;
            border-radius: 50px; cursor: pointer; font-family: 'Inter', sans-serif;
            font-weight: 600; font-size: 0.85rem; text-transform: uppercase;
        }

        .season-title {
            font-family: 'Syne', sans-serif; font-size: clamp(1.5rem, 4vw, 2.5rem);
            font-weight: 800; text-transform: uppercase; color: #000; margin: 0;
        }

        .main-title {
            font-family: 'Syne', sans-serif; font-size: 1.2rem; font-weight: 800;
            text-transform: uppercase; letter-spacing: 1px; margin: 60px 0 25px;
            color: var(--accent); display: flex; align-items: center;
        }
        .main-title::after { content: ""; flex: 1; height: 1px; background: var(--border-light); margin-left: 20px; }

        .sub-title { font-size: 0.85rem; color: #888; margin: 0 0 15px; font-weight: 600; text-transform: uppercase; }
        
        .subgroup-wrapper { margin-bottom: 40px; }

        /* GRID CORREGIDO MATEM√ÅTICAMENTE */
        .color-flex-grid { 
            display: flex; 
            flex-wrap: wrap; 
            gap: 15px; /* Espacio entre items */
            justify-content: flex-start; 
        }

        .color-item {
            /* F√ìRMULA ESCRITORIO: (100% - (5 huecos * 15px)) / 6 columnas */
            width: calc((100% - 75px) / 6); 
            aspect-ratio: 1; 
            border-radius: 8px;
            cursor: pointer; 
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            /* Borde m√°s visible (0.1) para que los colores blancos se vean */
            border: 1px solid rgba(0,0,0,0.1); 
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            position: relative;
        }
        .color-item:hover { 
            transform: scale(1.15); 
            z-index: 10; 
            box-shadow: 0 10px 20px rgba(0,0,0,0.15); 
            border-color: rgba(0,0,0,0.2);
        }

        .season-description {
            font-size: 1.1rem; line-height: 1.6; color: #333; margin: 60px 0 20px;
            padding: 30px; background: #f4f4f4; border-left: 4px solid #1a1a1a; font-family: 'Syne', sans-serif;
        }

        /* --- VISOR MODAL --- */
        .viewer { position: fixed; top: 0; left: 0; width: 100%; height: 100dvh; z-index: 9999; display: none; flex-direction: column; }
        .viewer.active { display: flex; }
        .viewer-bg { position: absolute; inset: 0; }
        .close-viewer { position: absolute; top: 30px; right: 30px; background: white; border: none; width: 44px; height: 44px; border-radius: 50%; cursor: pointer; z-index: 1001; display: flex; align-items: center; justify-content: center; font-size: 18px; box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
        .viewer-footer { position: absolute; bottom: 40px; left: 50%; transform: translateX(-50%); background: white; padding: 20px 40px; border-radius: 50px; text-align: center; min-width: 260px; z-index: 1001; box-shadow: 0 15px 40px rgba(0,0,0,0.2); }
        .viewer-footer strong { display: block; font-size: 18px; color: black; font-family: 'Syne', sans-serif; }
        .viewer-footer span { font-size: 14px; color: #888; font-family: 'Inter', sans-serif; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 600px) {
            .color-item { 
                /* F√ìRMULA M√ìVIL: (100% - (3 huecos * 15px)) / 4 columnas */
                width: calc((100% - 45px) / 4); 
            }
            .menu-btn { width: 100%; }
        }
    </style>
</head>
<body class="mode-landing">

    <section id="landing-view">
        <header class="landing-header">
            <h1 class="brand-title">TONO<br>APROBADO</h1>
            <div class="brand-subtitle">Selecciona tu Estaci√≥n</div>
        </header>

        <div class="seasons-wrapper">
            
            <div class="season-group">
                <div class="season-name">Primavera</div>
                <div class="buttons-grid">
                    <button class="menu-btn" onclick="loadSeason('primavera_calida')">C√°lida</button>
                    <button class="menu-btn" onclick="loadSeason('primavera_brillante')">Brillante</button>
                    <button class="menu-btn" onclick="loadSeason('primavera_clara')">Clara</button>
                </div>
            </div>

            <div class="season-group">
                <div class="season-name">Verano</div>
                <div class="buttons-grid">
                    <button class="menu-btn" onclick="loadSeason('verano_claro')">Claro</button>
                    <button class="menu-btn" onclick="loadSeason('verano_suave')">Suave</button>
                    <button class="menu-btn" onclick="loadSeason('verano_frio')">Fr√≠o</button>
                </div>
            </div>

            <div class="season-group">
                <div class="season-name">Oto√±o</div>
                <div class="buttons-grid">
                    <button class="menu-btn" onclick="loadSeason('otono_calido')">C√°lido</button>
                    <button class="menu-btn" onclick="loadSeason('otono_suave')">Suave</button>
                    <button class="menu-btn" onclick="loadSeason('otono_fuerte')">Fuerte</button>
                </div>
            </div>

            <div class="season-group">
                <div class="season-name">Invierno</div>
                <div class="buttons-grid">
                    <button class="menu-btn" onclick="loadSeason('invierno_brillante')">Brillante</button>
                    <button class="menu-btn" onclick="loadSeason('invierno_profundo')">Profundo</button>
                    <button class="menu-btn" onclick="loadSeason('invierno_frio')">Fr√≠o</button>
                </div>
            </div>
            
        </div>
    </section>

    <section id="grid-view">
        <div class="grid-header">
            <button class="back-btn" onclick="goBack()">‚Üê VOLVER</button>
            <h2 id="current-season-title" class="season-title"></h2>
        </div>
        <div id="dynamic-content"></div>
    </section>

    <div class="viewer" id="viewer">
        <button class="close-viewer" id="closeViewerBtn">‚úï</button>
        <div class="viewer-bg" id="viewerBg"></div>
        <div class="viewer-footer">
            <strong id="viewerName"></strong>
            <span id="viewerHex"></span>
        </div>
    </div>

    <script>
        const colorData = {
            'verano_frio': {
                title: "Verano Fr√≠o ¬∑ Cool Summer",
                star: "Neutros fr√≠os claros|#F2F2F2:Cool Soft White,#E1E1E6:Light Cool Gray,#9AA0B2:Cool Taupe Gray,#4A4E57:Soft Charcoal;Rosas fr√≠os empolvados|#F6E6EF:Cool Blush,#EBC1D6:Powder Pink,#C98AAE:Dusty Rose,#B24C6F:Cool Raspberry;Lilacs y violetas|#E2DAF2:Soft Lavender,#B9A9DE:Cool Lilac,#8A76B8:Muted Violet,#5E507F:Cool Plum;Azules y Verdes|#D8E4F2:Powder Blue,#B7C6EA:Cool Periwinkle,#7FA9C9:Soft Denim Blue,#3B5B86:Cool Navy,#C6D9DC:Blue Sage,#9CCFC2:Cool Mint,#7A9FA8:Muted Teal,#3C7F80:Cool Blue Green",
                comp: "Complementarios|#F4F7FA:C1,#E7ECF2:C2,#D3DAE6:C3,#BFC9D9:C4,#A9B4C8:C5,#8F9CB5:C6,#7C8AA6:C7,#6A7894:C8,#5A6A86:C9,#4B5C78:C10,#E9E3F1:C11,#D6CFE6:C12,#C2BCD9:C13,#AEA8CC:C14,#9A94BF:C15,#E6EEF0:C16,#D2E1E6:C17,#BED5DC:C18,#AAC9D1:C19,#96BDC6:C20,#D9E3DE:C21,#C6D6D2:C22,#B2CAC6:C23,#9EBDBA:C24,#8AB1AE:C25,#C9C9D3:C26,#B3B4C2:C27,#9DA0B1:C28,#878CA0:C29,#71788F:C30",
                avoid: "C√°lidos / Amarillentos|#FF8C00:Orange,#FFD634:Warm Yellow,#C19A6B:Camel;Muy Oscuros|#000000:Pure Black,#1A1A1A:Ink Black;Muy Saturados|#FF0000:True Red,#00FF00:Neon Green,#00A7D1:Electric Turquoise",
                metal: "Recomendados|#C0C0C0:Silver,#EAEAEA:White Gold,#E5E4E2:Platinum,#E5E4E2:Rhodium;Evitar|#FFD700:Yellow Gold,#B87333:Copper,#CD7F32:Bronze,#B76E79:Rose Gold",
                desc: "Frescura, frialdad y armon√≠a. Tus colores son elegantes, suaves y carecen totalmente de calidez."
            },
            'verano_claro': {
                title: "Verano Claro ¬∑ Light Summer",
                star: "Neutros claros fr√≠os|#F5F5F7:Soft Cool White,#E6E6EA:Light Cool Gray,#C8CAD4:Pale Cool Gray,#A8BACD:Light Blue Gray;Rosas y Lilacs|#FFD1E3:Soft Cool Pink,#EED3E3:Powder Rose,#FDE8F5:Light Blush,#D96A8A:Soft Cool Raspberry,#EFE6F7:Soft Lilac,#CFC6EA:Light Lavender,#C6CAEB:Light Periwinkle,#8E7FB8:Soft Violet;Azules y Verdes|#C7D6E6:Pale Blue Gray,#6F8EC1:Light Cool Blue,#CDECF4:Powder Aqua,#B9DDEA:Soft Sky Blue,#D4EFE9:Light Aqua Green,#B6E0DA:Cool Mint,#8ECFBC:Soft Teal,#3C9A98:Light Blue Green",
                comp: "Complementarios|#F7F9FB:C1,#EDF1F6:C2,#E3E8F0:C3,#D9DFEA:C4,#CED6E4:C5,#F2EAF0:C6,#E8DDE7:C7,#DECFE0:C8,#D4C2D8:C9,#CAB5D1:C10,#EAEAF4:C11,#DDDDF0:C12,#D0D0EB:C13,#C3C3E6:C14,#B6B6E0:C15,#E6F1F4:C16,#D8E8ED:C17,#CADFE6:C18,#BCD6DF:C19,#AECDD8:C20,#E2EFEA:C21,#D3E6DE:C22,#C4DDD2:C23,#B5D4C6:C24,#A6CBBB:C25,#DDE2EC:C26,#CFD6E4:C27,#C1CADD:C28,#B3BED5:C29,#A5B2CE:C30",
                avoid: "C√°lidos / Amarillentos|#FF8C00:Orange,#FFD634:Warm Yellow,#C1672F:Camel;Oscuros / Pesados|#000000:Black,#1A1A1A:Ink Black;Muy Saturados|#FF0000:True Red,#EB19B3:Hot Fuchsia,#00FF00:Neon Green",
                metal: "Recomendados|#C0C0C0:Silver,#EAEAEA:White Gold,#E5E4E2:Platinum,#ADB1B8:Soft Pewter;Evitar|#FFD700:Yellow Gold,#B87333:Copper,#CD7F32:Bronze,#B76E79:Rose Gold",
                desc: "Claridad, frescura y armon√≠a. Tu paleta destaca por tonos transl√∫cidos y ligeros con una base fr√≠a."
            },
            'verano_suave': {
                title: "Verano Suave ¬∑ Soft Summer",
                star: "Neutros fr√≠os suaves|#E3E8EC:Soft Cool White,#C4C6CC:Cool Soft Gray,#8A8A8F:Muted Cool Gray,#CFD2E3:Soft Blue Gray;Rosas y Malvas|#EFE1E2:Powder Blush,#E3A9BC:Soft Dusty Rose,#C36581:Muted Rose,#C85C7A:Soft Cool Raspberry,#E0C9DC:Soft Mauve,#BFB9D4:Dusty Lilac,#A68EBE:Muted Lavender,#7A5C97:Soft Plum;Azules y Verdes|#D3DEEA:Powder Blue,#7F92AA:Soft Denim,#5F93AA:Muted Blue,#44495F:Cool Soft Navy,#C2DEDE:Soft Aqua,#A8BEB7:Sage Green,#4E7472:Muted Teal,#2F5752:Soft Deep Green",
                comp: "Complementarios|#EEEFF2:C1,#E2E3E8:C2,#D5D7DE:C3,#C7CAD3:C4,#BABDC8:C5,#E9E1E7:C6,#DCCFD9:C7,#CDBCCB:C8,#BFA9BD:C9,#B196AF:C10,#D8D2E0:C11,#C6C0D1:C12,#B4AFC2:C13,#A29EB3:C14,#918DA5:C15,#D5E0E0:C16,#C2D1D1:C17,#AFC3C3:C18,#9CB5B5:C19,#8AA7A7:C20,#CCD4CF:C21,#B8C4BE:C22,#A4B5AE:C23,#91A69F:C24,#7E9790:C25,#C1C4CC:C26,#ADB1BC:C27,#989EAC:C28,#848A9C:C29,#70768C:C30",
                avoid: "C√°lidos / Dorados|#FF8C00:Orange,#FFD634:Warm Yellow,#C1672F:Camel;Muy Oscuros|#000000:Black,#1A1A1A:Ink Black;Muy Saturados|#FF0000:True Red,#EB19B3:Hot Fuchsia,#00FF00:Neon Green",
                metal: "Recomendados|#C0C0C0:Silver,#EAEAEA:White Gold,#E5E4E2:Platinum,#ADB1B8:Soft Pewter;Evitar|#FFD700:Yellow Gold,#B87333:Copper,#CD7F32:Bronze,#B76E79:Rose Gold",
                desc: "Suavidad, frialdad y armon√≠a. La clave de tu paleta es el matiz gris√°ceo y empolvado de cada tono."
            },
        'primavera_calida': {
                title: "Primavera C√°lida ¬∑ Warm Spring",
                star: "Neutros y Amarillos|#FFF9EB:Warm Ivory,#F2E4CE:Soft Warm Beige,#ECD0B6:Light Sand,#E6C36A:Soft Warm Gold,#FED634:Sun Yellow,#F7C948:Warm Butter,#F2B705:Clear Warm Yellow,#EBC14A:Golden Light;Naranjas y Rojos|#FD8D5D:Soft Coral Orange,#E78646:Warm Apricot,#FFD9C2:Peach Cream,#F59E5D:Light Mandarin,#FC5603:Bright Orange Red,#F32112:Warm Tomato Red,#F76B5E:Warm Coral Red;Verdes y Azules|#87A022:Warm Apple Green,#50A34D:Fresh Leaf Green,#A8C686:Warm Pistachio,#59C9B3:Warm Turquoise,#009BA3:Warm Aqua Blue",
                comp: "Complementarios|#D9FCF6:Light Aqua,#BFE9E4:Soft Aqua Mint,#9DD7DD:Clear Aqua,#84E1CB:Fresh Mint,#6FBFAF:Soft Turquoise,#59C9B3:Turquoise Light,#029270:Warm Teal,#007A8A:Deep Aqua,#004266:Warm Navy,#A8C686:Warm Pistachio,#87A022:Apple Green,#B7D65A:Fresh Lime,#CCD260:Yellow Green,#E3E18B:Light Chartreuse,#FFD9C2:Peach,#F7C4A5:Soft Apricot,#F2B88C:Warm Peach,#E78646:Apricot,#FD8D5D:Soft Orange,#ECD0B6:Sand,#F2E4CE:Warm Beige,#E6C36A:Golden Beige,#C9A46A:Golden Sand,#DEC98B:Light Honey,#F59E5D:Mandarin,#F7C948:Warm Butter,#FED634:Sun Yellow,#F2B705:Clear Yellow,#EBC14A:Golden Yellow,#FFD166:Soft Golden Yellow",
                avoid: "Fr√≠os / Azulados|#235AE7:Royal Blue,#0E3EAF:Electric Blue,#4B0082:Indigo;Oscuros|#000000:Black,#1A1A1A:Ink Black,#343434:Charcoal;Apagados|#8B4513:Warm Brown,#5A4B26:Dark Khaki,#7C852E:Dark Olive",
                metal: "Recomendados|#FFD700:Yellow Gold,#F4D03F:Light Gold,#E5C100:Warm Gold,#CD7F32:Soft Bronze;Evitar|#C0C0C0:Silver,#EAEAEA:White Gold,#E5E4E2:Platinum,#B0BEC5:Chrome",
                desc: "Calidez, luz y vitalidad. Tu paleta est√° llena de colores solares y frescos que irradian energ√≠a."
            },
            'primavera_brillante': {
                title: "Primavera Brillante ¬∑ Bright Spring",
                star: "Neutros y Amarillos|#FFF6E0:Light Warm Ivory,#F6E3C5:Bright Sand,#EFCC8F:Golden Beige,#FBD8C1:Peach Cream,#FFE45C:Bright Lemon,#FFE600:Sun Yellow,#FFD23F:Clear Golden Yellow;Azules y Verdes|#84DDEB:Bright Aqua,#4FC8DE:Clear Turquoise,#149FD2:Bright Sky Blue,#007FA3:Warm Bright Teal,#83C65D:Apple Green,#00993B:Clear Green,#9CDE9F:Bright Mint,#B1FF85:Bright Lime,#058A7F:Bright Teal Green;Rojos y Rosas|#FF5E29:Bright Orange Coral,#F11E2F:Bright Warm Red,#EF6262:Bright Coral Red,#FF4C88:Bright Warm Pink",
                comp: "Complementarios|#E2FDF6:Bright Mint Ice,#BFF4EA:Clear Aqua Mint,#84DDEB:Bright Aqua,#4FC8DE:Turquoise Bright,#149FD2:Sky Blue,#009BA3:Warm Aqua Blue,#007FA3:Clear Teal,#058A7F:Teal Green,#2FB9A7:Bright Sea Green,#9CDE9F:Mint Green,#83C65D:Fresh Apple,#B1FF85:Bright Lime,#C9F27E:Clear Yellow Green,#50A34D:Bright Leaf Green,#FFE600:Sun Yellow,#FFE45C:Lemon,#FFD23F:Golden Yellow,#F7C948:Warm Butter,#FF5E29:Orange Coral,#F76B5E:Warm Coral,#EF6262:Bright Coral Red,#FF8A5B:Bright Peach Coral,#FF4C88:Warm Pink,#FF6FAE:Bright Rose,#F11E2F:Warm Red,#FBD8C1:Peach,#F6E3C5:Bright Sand,#EFCC8F:Golden Beige,#FFE9C7:Light Warm Cream,#FFD9A3:Soft Golden Cream",
                avoid: "Fr√≠os / Azulados|#235AE7:Royal Blue,#0E3EAF:Electric Blue,#4B0082:Indigo;Oscuros|#000000:Black,#1A1A1A:Ink Black,#2F2F2F:Charcoal;Apagados|#8B4513:Brown,#5A4B26:Dark Khaki,#7C852E:Dark Olive",
                metal: "Recomendados|#FFD700:Yellow Gold,#F4D03F:Light Gold,#FFD700:Polished Gold,#AD8A56:Warm Brass;Evitar|#C0C0C0:Silver,#EAEAEA:White Gold,#E5E4E2:Platinum,#4A4A4A:Dark Oxidized Metals",
                desc: "M√°xima luminosidad, calidez y contraste limpio. Los colores vibrantes y saturados son tu sello personal."
            },
            'primavera_clara': {
                title: "Primavera Clara ¬∑ Light Spring",
                star: "Neutros y Amarillos|#FFF6E0:Light Warm Ivory,#F2E1C8:Light Warm Beige,#FFE5D1:Soft Peach Cream,#FFD8BD:Light Apricot,#F8E077:Soft Sun Yellow,#FFE2A8:Light Golden Yellow;Azules y Verdes|#AEE8EF:Light Aqua,#8BBCE4:Soft Sky Blue,#72BFCB:Clear Light Teal,#5F86B3:Light Warm Blue,#9FF4D5:Fresh Mint,#9DE1BE:Light Aqua Green,#77C9A5:Soft Spring Teal,#8FCB8B:Light Leaf Green,#E5FEE1:Light Pistachio,#C9E49B:Soft Lime Green;Rosas y Corales|#FF9D94:Soft Coral,#FFB3A7:Light Peach Coral,#FFAB9E:Peach Pink,#F3A6A0:Soft Warm Rose",
                comp: "Complementarios|#DBFFF4:Light Mint Ice,#CAE8DE:Soft Aqua Gray,#AEE8EF:Light Aqua,#8BBCE4:Soft Sky Blue,#72BFCB:Light Teal,#9DE1BE:Aqua Green Light,#9FF4D5:Fresh Mint,#BFE6C8:Light Mint Green,#8FCB8B:Soft Leaf Green,#A3D9A5:Spring Green Light,#E5FEE1:Light Pistachio,#C9E49B:Soft Lime,#EAF4C8:Light Yellow Green,#F8E077:Soft Sun Yellow,#FFE2A8:Light Golden Yellow,#FFD8BD:Light Apricot,#FFE5D1:Peach Cream,#F8D2C8:Soft Peach Blush,#FFB3A7:Light Coral,#FF9D94:Soft Coral,#F3A6A0:Warm Rose,#FFAB9E:Peach Pink,#F6C1A8:Light Warm Blush,#FFF1DC:Warm Light Cream,#F2E1C8:Light Beige,#EAD7BF:Soft Sand,#D7E8CF:Soft Spring Neutral,#CFE6DC:Light Aqua Neutral,#E8F1E6:Very Light Spring Green,#F7F3E6:Warm Light Off-White",
                avoid: "Fr√≠os / Azulados|#0E3EAF:Electric Blue,#235AE7:Royal Blue,#4B0082:Indigo;Oscuros|#000000:Black,#1A1A1A:Ink Black,#343434:Charcoal;Saturados|#FF0000:True Red,#FFE100:Bright Yellow,#EB19B3:Hot Fuchsia",
                metal: "Recomendados|#F9E79F:Light Yellow Gold,#F7DC6F:Soft Gold,#E5E8E8:Champagne Gold,#CD7F32:Brushed Bronze;Evitar|#C0C0C0:Silver,#EAEAEA:White Gold,#E5E4E2:Platinum,#4A4A4A:Dark Oxidized Metals",
                desc: "Luminosidad, frescura y suavidad. Tu paleta destaca por tonos claros y et√©reos con un toque de sol."
            },
           'otono_calido': {
                title: "Oto√±o C√°lido ¬∑ Warm Autumn",
                star: "Terrosos y Ricos|#4C1C06:Dark Chocolate,#5A3A1A:Warm Espresso,#A8854D:Warm Camel,#9D5439:Warm Cinnamon,#FFF6E0:Cream;Dorados y C√°lidos|#F4DBA4:Warm Sand,#F2C673:Golden Honey,#DD9F3C:Deep Gold,#ED7226:Burnt Orange,#E23D28:Warm Red Orange;Rojos y √ìxidos|#C84D37:Rust,#C1672F:Terracotta,#AD5F25:Copper Brown,#802E23:Brick Red,#9A3E1F:Warm Chestnut,#6B2E1A:Mahogany;Verdes Oto√±ales|#7C852E:Olive Green,#5A5E31:Moss Green,#2F3805:Deep Olive,#6B8E23:Warm Olive",
                comp: "Complementarios|#F3CBA5:Peach Beige,#E8B07A:Warm Apricot,#E6C089:Soft Gold,#D8A15A:Golden Tan,#B98C4A:Warm Taupe,#AFDC8F:Soft Olive,#CCD260:Yellow Olive,#8A9A3A:Olive Chartreuse,#6F7F3A:Lichen Green,#556B2F:Dark Olive,#165D69:Warm Teal,#1F6F78:Petrol Teal,#2F7F7A:Muted Turquoise,#B86A3A:Clay,#D2691E:Cinnamon,#A0522D:Sienna,#8B4513:Saddle Brown,#C68642:Warm Caramel,#9C6B30:Bronze,#B87333:Copper,#A97142:Warm Leather,#8F6A3D:Earth Brown,#E1B382:Golden Beige,#D2A679:Warm Almond,#C9A14A:Antique Gold,#7A5C2E:Warm Khaki,#6B4F1D:Dark Mustard,#7F7F2A:Olive Yellow,#A65E2E:Burnt Copper,#8C3F1E:Deep Terracotta",
                avoid: "Fr√≠os / Azulados|#2299B4:Cool Blue,#23908A:Cool Turquoise,#101832:Cold Navy,#1A2A70:Midnight Blue;Pasteles Fr√≠os|#FFEBF3:Icy Pink,#E6E6FA:Lavender,#D5F4F6:Icy Aqua;Contraste Extremo|#000000:Black,#FFFFFF:Pure White,#B8B8B8:Cool Gray",
                metal: "Recomendados|#FFD700:Yellow Gold,#CD7F32:Bronze,#B87333:Copper,#C5A059:Antique Gold;Evitar|#C0C0C0:Silver,#EAEAEA:White Gold,#E5E4E2:Platinum,#B0BEC5:Chrome",
                desc: "Colores c√°lidos, terrosos y ricos. Tu paleta irradia el calor del sol de tarde y la tierra."
            },
            'otono_fuerte': {
                title: "Oto√±o Fuerte ¬∑ Deep Autumn",
                star: "Profundos y Oscuros|#511C06:Dark Chocolate,#4C1C06:Espresso Brown,#343D0A:Deep Olive Brown,#5A4B26:Dark Khaki,#3B1F12:Deep Cocoa;C√°lidos Intensos|#E67D37:Burnt Orange,#DD9F3C:Antique Gold,#C08D35:Deep Mustard,#BD7951:Copper Tan,#7A3A1D:Dark Rust;Rojos y Burdeos|#830C18:Warm Oxblood,#C81E2C:Brick Red,#802E23:Brick Brown,#9D5439:Cinnamon Brown,#6B2E1A:Mahogany,#802359:Warm Burgundy;Verdes Bosque|#24562A:Deep Forest Green,#536F2A:Olive Green,#71774B:Moss Olive,#8D9E47:Lichen Green",
                comp: "Complementarios|#FFF6E0:Warm Cream,#EABBA4:Soft Peach,#F2C673:Golden Honey,#E6B566:Soft Gold,#D8A15A:Warm Tan,#AD5F25:Copper Brown,#C1672F:Terracotta,#B87333:True Copper,#A0522D:Sienna,#8B4513:Saddle Brown,#9A3E1F:Warm Chestnut,#B86A3A:Clay,#6F4E37:Coffee,#7F5A2E:Earth Gold,#7C852E:Olive,#8F8B3C:Warm Olive,#556B2F:Dark Olive,#6B7A2E:Olive Moss,#2B7866:Warm Teal,#165D69:Deep Warm Teal,#125E6D:Blue-Green Teal,#007A8A:Dark Teal,#AFDC8F:Soft Warm Green,#CCD260:Yellow Olive,#9CAF6B:Muted Olive Green,#A97142:Warm Leather,#8F6A3D:Earth Brown,#6E512E:Dark Earth,#B07C2E:Antique Bronze,#8C5A2B:Burnt Bronze",
                avoid: "Fr√≠os / Azulados|#229DBF:Cool Blue,#184668:Cold Navy,#0079AD:Bright Cold Blue,#235AE7:Royal Blue;Pasteles Suaves|#FFEBF3:Icy Pink,#E6E6FA:Lavender,#D5F4F6:Icy Aqua;Contraste Fr√≠o|#000000:Pure Black,#FFFFFF:Pure White,#B8B8B8:Cool Gray",
                metal: "Recomendados|#FFD700:Yellow Gold,#C5A059:Antique Gold,#CD7F32:Bronze,#B87333:Copper;Evitar|#C0C0C0:Silver,#EAEAEA:White Gold,#E5E4E2:Platinum,#B0BEC5:Chrome",
                desc: "Intensidad, profundidad y calidez. Los tonos pesados y saturados realzan tu fuerza natural."
            },
            'otono_suave': {
                title: "Oto√±o Suave ¬∑ Soft Autumn",
                star: "Neutros C√°lidos Suaves|#FFF6E0:Soft Cream,#CFC2A8:Warm Sand,#B6A081:Warm Taupe,#9C8F7A:Soft Stone;Dorados y Arenas|#F0C775:Soft Gold,#E8B97A:Muted Honey,#F5D2BD:Peach Beige,#D9B48F:Soft Camel;Naranjas y Corales|#F38953:Muted Orange,#E26D69:Soft Coral,#C46540:Warm Clay,#A46A4A:Soft Rust;Verdes y Rojos Suaves|#A9B573:Light Olive,#8FA58A:Soft Sage,#748952:Muted Olive,#6F8F7A:Soft Moss,#C26A5A:Soft Terracotta,#B97A6A:Dusty Warm Rose,#9C6B55:Warm Rose Brown,#8A5A46:Soft Brick Brown",
                comp: "Complementarios|#D4E0B3:Soft Pistachio,#C9D8C3:Muted Celadon,#A5D9C9:Soft Aqua,#8FC2B8:Muted Seafoam,#72B69F:Soft Green Teal,#67B2BC:Soft Blue Teal,#7CA5CB:Muted Blue,#6E8FA8:Dusty Blue,#5F7F7A:Blue Green Gray,#6F7F6A:Muted Green Gray,#B3B8A3:Sage Gray,#919D7B:Soft Moss Gray,#A9B573:Olive Light,#8E9B6C:Muted Olive,#7F8A63:Dry Olive,#E8C9B8:Soft Blush,#EFA195:Muted Peach,#D8A79A:Dusty Peach,#C5B1A2:Warm Stone,#A58C7A:Soft Camel,#C09E87:Beige Rose,#B89A88:Warm Nude,#9E7A6A:Dusty Warm Rose,#8F7B66:Warm Mushroom,#7A6656:Soft Bark,#B6A081:Warm Taupe,#9C8F7A:Soft Taupe Gray,#8A8174:Muted Taupe,#A49B8A:Warm Greige,#D6CCBB:Soft Linen",
                avoid: "Fr√≠os / Contrastados|#000000:Black,#FFFFFF:Pure White,#235AE7:Royal Blue,#0E3EAF:Electric Blue;Muy Saturados|#FF0000:True Red,#FFE100:Bright Yellow,#EB19B3:Hot Fuchsia;Rosados Fr√≠os|#FFEBF3:Icy Pink,#E6E6FA:Lavender",
                metal: "Recomendados|#F0C775:Yellow Gold (brushed),#C5A059:Antique Gold,#CD7F32:Bronze,#B87333:Brushed Copper;Evitar|#C0C0C0:Silver,#EAEAEA:White Gold,#E5E4E2:Platinum,#B0BEC5:High-shine Chrome",
                desc: "Calidez suave y baja saturaci√≥n. La armon√≠a de los tonos empolvados es tu mayor virtud."
            },
            'invierno_brillante': {
                title: "Invierno Brillante ¬∑ Bright Winter",
                star: "Neutros de alto contraste|#000000:Black,#1A1A1A:Ink Black,#2B2B2B:Jet Gray,#FCFCFD:Icy White;Azules fr√≠os brillantes|#235AE7:Bright Royal Blue,#0079AD:Cold Blue,#00A7D1:Electric Cyan,#293885:Bright Navy;Verdes fr√≠os n√≠tidos|#10BCA8:Bright Turquoise,#027E71:Cold Teal,#006F6B:Bright Cold Teal;Rojos y rosas fr√≠os|#E90137:True Cold Red,#BD002C:Crimson,#E63789:Bright Fuchsia,#BB1B81:Hot Pink;Amarillos fr√≠os (permitidos)|#FFE70F:Icy Lemon Yellow,#F5FF00:Neon Icy Yellow;P√∫rpuras y Grises|#780D61:Bright Berry,#5B2EFF:Electric Violet,#636363:Cold Graphite",
                comp: "Complementarios|#D5F4F6:Icy Aqua,#CEF2E8:Frozen Mint,#FFEBEF:Icy Pink,#E3CFF2:Bright Lavender,#B8B8B8:Cool Light Gray,#8F8F8F:Steel Gray,#4A4A4A:Cool Charcoal,#2F2F2F:Graphite,#126473:Deep Cold Blue,#1D3F34:Dark Teal Green,#003366:Prussian Blue,#1A1A2E:Ink Blue,#0047AB:Cobalt Blue,#007FFF:Azure,#00BFFF:Deep Sky Blue,#00CFFF:Electric Sky,#00FFD5:Neon Aqua,#00FF6A:Bright Cold Green,#FF0055:Hot Red Pink,#FF2FB3:Electric Pink,#C800FF:Neon Purple,#8A2EFF:Bright Violet,#3A00FF:Blue Violet,#0057FF:Cold Electric Blue,#00E5FF:Ice Cyan,#6A00FF:Bright Indigo,#A100FF:Electric Grape,#0096FF:Arctic Blue,#00FFC8:Ice Mint Neon,#5F5F5F:Cold Mid Gray",
                avoid: "C√°lidos y Terrosos|#FEEE86:Warm Yellow,#D2B48C:Tan,#C19A6B:Camel,#8B4513:Warm Brown,#B87333:Copper;Suaves y Apagados|#FFEBEF:Dusty Pink,#C8A2C8:Mauve,#D8BFD8:Dusty Lilac,#A9A9A9:Soft Gray;Oto√±ales|#808000:Olive,#A0522D:Sienna,#CD853F:Peru",
                metal: "Recomendados|#C0C0C0:Silver,#EAEAEA:White Gold,#E5E4E2:Platinum,#B0BEC5:Chrome / Polished Steel;Evitar|#FFD700:Yellow Gold,#B76E79:Rose Gold,#CD7F32:Bronze,#B87333:Copper",
                desc: "M√°xima pureza, brillo y contraste. Los colores saturados y g√©lidos potencian tu luminosidad."
            },
            'invierno_profundo': {
                title: "Invierno Profundo ¬∑ Deep Winter",
                star: "Neutros y Azules|#000000:Black,#1A1A1A:Ink Black,#232323:Jet Black,#1F2A44:Deep Navy,#1A2A70:Midnight Blue,#0E3EAF:Electric Deep Blue,#215C9C:Royal Cold Blue,#232748:Night Blue;Verdes y Rojos|#02585A:Deep Teal,#0E3F34:Petrol Green,#0A5F4A:Deep Cold Emerald,#C10114:Cold Red,#923551:Burgundy,#5C1445:Plum Wine,#7B003F:Dark Raspberry;Violetas y Grises|#9125AD:Intense Violet,#52336C:Royal Purple,#2B003F:Deep Aubergine,#525252:Charcoal Gray,#2F2F2F:Graphite",
                comp: "Complementarios|#FCFCFD:Icy White,#E6E6E6:Cool Light Gray,#B5B5B5:Steel Gray,#808080:Medium Gray,#4A4A4A:Cool Charcoal,#003366:Prussian Blue,#002B5C:Deep Navy Ink,#003B8E:Cold Cobalt,#00416A:Midnight Ocean,#0B2C4A:Dark Steel Blue,#006B6B:Deep Cyan,#004F4F:Dark Teal,#003300:Pine Green,#004225:Deep Forest Green,#1F4E3D:Dark Jade,#66001A:Oxblood,#7A003C:Dark Berry,#990033:Raspberry Wine,#4B0014:Deep Wine Red,#800080:Cold Purple,#6A0DAD:Royal Violet,#4B0082:Indigo,#3B003B:Dark Magenta,#2C003E:Shadow Purple,#1A1A2E:Ink Blue,#2B2E4A:Blue Charcoal,#36454F:Gunmetal,#1F1F1F:Deep Graphite,#0F172A:Cold Night Blue,#003153:Dark Sapphire",
                avoid: "C√°lidos y Terrosos|#FFE100:Warm Yellow,#FFD700:Gold Yellow,#C19A6B:Camel,#D2B48C:Tan,#8B4513:Warm Brown,#B87333:Copper;Pasteles|#FFD1DC:Baby Pink,#FFE4B5:Peach,#F5DEB3:Wheat,#E6E6FA:Lavender,#FFFACD:Pale Yellow;Apagados|#B0AFAF:Warm Gray,#A9A9A9:Soft Gray,#C8A2C8:Mauve,#D8BFD8:Dusty Lilac",
                metal: "Recomendados|#C0C0C0:Silver,#EAEAEA:White Gold,#E5E4E2:Platinum,#78909C:Cool Steel;Evitar|#FFD700:Yellow Gold,#B76E79:Rose Gold,#CD7F32:Bronze,#B87333:Copper",
                desc: "Profundidad, fr√≠o e intensidad. Los tonos oscuros y dram√°ticos son tu mejor aliado."
            },
            'invierno_frio': {
                title: "Invierno Fr√≠o ¬∑ Cool Winter",
                star: "Neutros e Icy White|#000000:Black,#1A1A1A:Ink Black,#2F2F2F:Graphite,#FCFCFD:Pure Icy White;Azules y Verdes|#011B51:Deep Cold Navy,#003366:Prussian Blue,#24469E:True Cold Blue,#003B8E:Cold Cobalt,#00696B:Cold Teal,#0B4F6C:Blue Teal,#14382F:Deep Cool Green;Rosas y P√∫rpuras|#C41776:Cool Raspberry,#800A6C:Cool Magenta,#EB19B3:Cool Fuchsia,#7A003C:Cool Berry,#563286:Cold Purple,#5B3FA3:True Cool Violet,#7A5DC7:Cool Periwinkle;Grises|#808080:Neutral Cool Gray,#636363:Steel Gray",
                comp: "Complementarios|#CBD6F6:Icy Blue,#BECBDA:Cool Blue Gray,#CFCFCF:Cool Light Gray,#E6E6E6:Silver Mist,#9C9C9C:Cold Medium Gray,#E9DEF2:Icy Lavender,#DAD4F7:Cool Lilac Ice,#9A6CB2:Cool Lilac,#8B5FBF:Cool Purple,#6E2F8A:Cool Berry,#FFEBF3:Icy Pink,#E864BE:Cool Pink,#D94C9A:Cool Rose,#DEF2E7:Icy Mint,#C5D8CB:Cool Mint Gray,#A8CFC7:Soft Cool Aqua,#0D93AB:Cold Turquoise,#007C91:Cool Cyan,#1F4E79:Cold Blue Steel,#274C77:Cold Denim,#293885:Cool Navy,#1A1A2E:Ink Blue,#3B4C99:Steel Blue,#4A5FA7:Cool Cornflower,#36454F:Gunmetal,#4A4A4A:Cool Charcoal,#B5B5B5:Cool Silver Gray,#5F7CA3:Cool Slate Blue,#6B6FD6:Cool Blue Violet,#8FA3D8:Icy Periwinkle",
                avoid: "C√°lidos / Amarillos|#F7F592:Warm Yellow,#FBF846:Bright Warm Yellow,#FFE100:Yellow,#FFD700:Gold Yellow;Rojos C√°lidos|#C21300:Warm Red,#FF6F3C:Orange Red;Suaves y Terrosos|#C5B4A0:Warm Taupe,#C8A2C8:Mauve,#D8BFD8:Dusty Lilac,#A9A9A9:Warm Soft Gray,#C19A6B:Camel,#8B4513:Warm Brown",
                metal: "Recomendados|#C0C0C0:Silver,#EAEAEA:White Gold,#E5E4E2:Platinum,#78909C:Cool Steel;Evitar|#FFD700:Yellow Gold,#B76E79:Rose Gold,#CD7F32:Bronze,#B87333:Copper",
                desc: "Fr√≠o puro, colores limpios y definidos. Tu paleta carece totalmente de matices amarillos."
            },
        };

        function loadSeason(key) {
            const data = colorData[key];
            if (!data) return;
            document.body.className = 'mode-grid';
            document.getElementById('landing-view').style.display = 'none';
            document.getElementById('grid-view').style.display = 'block';
            document.getElementById('current-season-title').innerText = data.title;
            const container = document.getElementById('dynamic-content');
            container.innerHTML = '';
            renderSection(container, "‚≠ê Colores Estrella", data.star);
            renderSection(container, "üé® Complementarios", data.comp);
            renderSection(container, "üö´ A Evitar", data.avoid);
            renderSection(container, "üíé Joyer√≠a y Metales", data.metal);
            if (data.desc) {
                const finalDesc = document.createElement('p');
                finalDesc.className = 'season-description';
                finalDesc.innerText = data.desc;
                container.appendChild(finalDesc);
            }
            window.scrollTo(0,0);
        }

        function goBack() {
            document.body.className = 'mode-landing';
            document.getElementById('grid-view').style.display = 'none';
            document.getElementById('landing-view').style.display = 'flex';
        }

        // FUNCI√ìN DE RENDERIZADO CORREGIDA Y ROBUSTA
        function renderSection(mainContainer, titleText, dataString) {
            if (!dataString) return;
            
            const h1 = document.createElement('h1');
            h1.className = 'main-title';
            h1.innerText = titleText;
            mainContainer.appendChild(h1);
            
            dataString.split(';').forEach(group => {
                if(!group.trim()) return; // Evitar grupos vac√≠os

                const parts = group.split('|');
                const subTitle = parts.length > 1 ? parts[0] : ''; 
                const colors = parts.length > 1 ? parts[1] : parts[0];
                
                const wrap = document.createElement('div');
                wrap.className = 'subgroup-wrapper';
                
                let html = subTitle ? `<h3 class="sub-title">${subTitle}</h3>` : '';
                html += `<div class="color-flex-grid">`;
                
                colors.split(',').forEach(c => {
                    // VALIDACI√ìN: Evitar items vac√≠os o sin ':'
                    if(!c || !c.includes(':')) return;

                    const [hexRaw, nameRaw] = c.split(':');
                    const hex = hexRaw.trim();
                    const name = nameRaw ? nameRaw.trim() : 'Color';

                    if(hex) {
                        html += `<div class="color-item" 
                                      style="background-color: ${hex};" 
                                      data-hex="${hex}" 
                                      data-name="${name}"
                                      title="${name}"></div>`;
                    }
                });
                
                html += `</div>`;
                wrap.innerHTML = html;
                mainContainer.appendChild(wrap);
            });
        }

        const viewer = document.getElementById("viewer");
        const bg = document.getElementById("viewerBg");
        const nameEl = document.getElementById("viewerName");
        const hexEl = document.getElementById("viewerHex");
        const closeBtn = document.getElementById("closeViewerBtn");
        let sectionColors = [];
        let currentIndex = 0;

        document.getElementById('grid-view').addEventListener("click", e => {
            const item = e.target.closest(".color-item");
            if (item) {
                const grid = item.closest(".color-flex-grid");
                sectionColors = Array.from(grid.querySelectorAll(".color-item"));
                currentIndex = sectionColors.indexOf(item);
                updateViewer(currentIndex);
                viewer.classList.add("active");
                document.body.style.overflow = "hidden";
            }
        });

        function updateViewer(index) {
            const item = sectionColors[index];
            if(!item) return;
            bg.style.backgroundColor = item.dataset.hex;
            nameEl.textContent = item.dataset.name;
            hexEl.textContent = item.dataset.hex;
        }

        closeBtn.addEventListener("click", () => {
            viewer.classList.remove("active");
            document.body.style.overflow = "";
        });

        let startX = 0;
        viewer.addEventListener("touchstart", e => startX = e.touches[0].clientX);
        viewer.addEventListener("touchend", e => {
            const endX = e.changedTouches[0].clientX;
            const diff = startX - endX;
            if (Math.abs(diff) > 50) {
                if (diff > 0) currentIndex = (currentIndex + 1) % sectionColors.length;
                else currentIndex = (currentIndex - 1 + sectionColors.length) % sectionColors.length;
                updateViewer(currentIndex);
            }
        });
    </script>
</body>
</html>
